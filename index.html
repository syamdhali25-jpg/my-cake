<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Blow the Candles</title>
<style>
    body { 
        background: #222; 
        color: white; 
        font-family: Arial; 
        text-align: center; 
        padding-top: 40px;
    }
    #cake {
        position: relative;
        width: 300px;
        height: 160px;
        margin: auto;
        background: #8B4513;
        border-radius: 10px;
    }
    .candle {
        position: absolute;
        width: 10px;
        height: 30px;
        background: orange;
        border-radius: 3px;
    }
    .flame {
        width: 10px;
        height: 10px;
        background: yellow;
        border-radius: 50%;
        margin-top: -12px;
        animation: flicker 0.15s infinite alternate;
    }
    @keyframes flicker {
        from { transform: scale(1); }
        to { transform: scale(1.3); }
    }
</style>
</head>
<body>

<h1>ðŸŽ‚ Blow Out the Candles!</h1>
<div id="cake"></div>
<p id="status"></p>

<script>
function getCandlesFromURL() {
    const params = new URLSearchParams(window.location.search);
    return parseInt(params.get("candles")) || 0;
}

function placeCandles(count) {
    const cake = document.getElementById("cake");

    for (let i = 0; i < count; i++) {
        const candle = document.createElement("div");
        candle.className = "candle";

        const flame = document.createElement("div");
        flame.className = "flame";
        candle.appendChild(flame);

        // Random position on cake
        candle.style.left = (20 + Math.random() * 260) + "px";
        candle.style.top = (20 + Math.random() * 80) + "px";

        // Blow out on click
        candle.onclick = () => {
            flame.remove();
            candle.onclick = null;
            checkIfAllBlown();
        }

        cake.appendChild(candle);
    }
}

function checkIfAllBlown() {
    const flames = document.querySelectorAll(".flame");
    if (flames.length === 0) {
        document.getElementById("status").innerText = "All candles blown out! ðŸŽ‰";
    }
}

const candleCount = getCandlesFromURL();
placeCandles(candleCount);
</script>

</body>
</html>
